# ───────────────────────────────────────────────────────────
# Hyprland Environment Variables
# Purpose: Set Wayland/Toolkit settings, GPU support, scaling & theming
# NOTE: Do NOT quote values — Hyprland reads these literally. :contentReference[oaicite:1]{index=1}
# ───────────────────────────────────────────────────────────


# ============================================================
# Session & XDG Metadata
# ============================================================
# Essential for correct application behavior & portals
env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_TYPE,wayland
env = XDG_SESSION_DESKTOP,Hyprland

# Explicit session type can help some portal and theme detection


# ============================================================
# Wayland / Toolkit Backends (GTK / Qt / SDL)
# ============================================================
# GTK: Use Wayland first, fallback to X11. :contentReference[oaicite:2]{index=2}
env = GDK_BACKEND,wayland,x11

# Qt: Wayland first, then XCB. Helpful for Qt apps like VLC/KDE apps. :contentReference[oaicite:3]{index=3}
env = QT_QPA_PLATFORM,wayland;xcb

# SDL2: Prefer Wayland. If you notice issues with old SDL games, you can remove/modify. :contentReference[oaicite:4]{index=4}
env = SDL_VIDEODRIVER,wayland

# Electron/Chromium-based apps: prefer Wayland. :contentReference[oaicite:5]{index=5}
env = ELECTRON_OZONE_PLATFORM_HINT,wayland
env = MOZ_ENABLE_WAYLAND,1

# (Optional) Qt automatic DPI scaling — useful on mixed DPI monitors.
# Un-comment if needed:
# env = QT_AUTO_SCREEN_SCALE_FACTOR,1

# (Optional) Disable Qt client-side decorations:
# env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1

# (Optional) Choose Qt platform theme (e.g., qt5ct or qt6ct):
# env = QT_QPA_PLATFORMTHEME,qt6ct


# ============================================================
# Cursor
# ============================================================
# Theme & size (consistent with hyprcursor settings)
env = XCURSOR_THEME,Bibata-Modern-Ice
env = XCURSOR_SIZE,15
env = HYPRCURSOR_THEME,Bibata-Modern-Ice
env = HYPRCURSOR_SIZE,15

# Wayland cursor handling tweaks
env = WLR_NO_HARDWARE_CURSORS,1
env = WLR_RENDERER_ALLOW_SCANOUT,0
env = WLR_DRM_NO_ATOMIC,1


# ============================================================
# NVIDIA GPU Support
# ============================================================
# Required for acceleration, OpenGL vendor override, etc.
env = LIBVA_DRIVER_NAME,nvidia
env = __GLX_VENDOR_LIBRARY_NAME,nvidia
env = NVD_BACKEND,direct

# (Optional) Force GBM backend for NVIDIA
# env = GBM_BACKEND,nvidia-drm

# (Optional) VRR / Adaptive Sync controls:
# env = __GL_GSYNC_ALLOWED,1
# env = __GL_VRR_ALLOWED,0


# ============================================================
# Custom & Developer Variables
# ============================================================
# Custom XCompose keybindings
env = XCOMPOSEFILE,$HOME/.XCompose

# Quick debug logging for Hyprland
# env = HYPRLAND_TRACE,1

# Disable realtime priority if needed:
# env = HYPRLAND_NO_RT,1

# Avoid systemd notification manipulation (optional)
# env = HYPRLAND_NO_SD_NOTIFY,1
# env = HYPRLAND_NO_SD_VARS,1
